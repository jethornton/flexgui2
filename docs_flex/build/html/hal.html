
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>HAL Pins &#8212; Flex GUI  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Touch Screens" href="touch.html" />
    <link rel="prev" title="Miscellaneous Items" href="misc.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="touch.html" title="Touch Screens"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="misc.html" title="Miscellaneous Items"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flex GUI  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">HAL Pins</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hal-pins">
<h1>HAL Pins<a class="headerlink" href="#hal-pins" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://youtu.be/LU4914GyGXI">HAL Tutorial</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Dynamic Property names are case sensitive and must be all lower case.
Hal types and directions are case sensitive and must be all caps. The
function value must be lower case.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Hal pin names can containe a-z, A-Z, 0-9, underscore _, or dash -.</p>
</div>
<section id="button">
<h2>Button<a class="headerlink" href="#button" title="Permalink to this heading">¶</a></h2>
<p>Any QPushButton, QCheckBox or QRadioButton can be assigned to a HAL <cite>bit</cite> pin by
adding four string type Dynamic Properties.  The pin_name used will create a HAL
pin prefixed with <cite>flexhal.</cite> A pin_name of my-button would be in HAL
<cite>flexhal.my-button</cite>. See <a class="reference internal" href="property.html"><span class="doc">Dynamic Properties</span></a></p>
<table class="docutils align-center" id="id1" style="width: 100%">
<caption><span class="caption-text">HAL Push Button</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_BIT</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_OUT</p></td>
</tr>
</tbody>
</table>
</section>
<section id="spinbox">
<span id="spinboxtag"></span><h2>Spinbox<a class="headerlink" href="#spinbox" title="Permalink to this heading">¶</a></h2>
<p>Any QSpinBox or QDoubleSpinBox can be a HAL <cite>number</cite> pin by adding four string
type Dynamic Properties. The pin_name used will create a HAL pin prefixed with
<cite>flexhal.</cite> A pin_name of my-spinbox would be in HAL <cite>flexhal.my-spinbox</cite>.</p>
<table class="docutils align-center" id="id2" style="width: 100%">
<caption><span class="caption-text">HAL Spin Box</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_FLOAT or HAL_S32 or HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_OUT</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A QSpinBox can only be HAL_S32 or HAL_U32 data type. A QDoubleSpinBox
can only be HAL_FLOAT data type.</p>
</div>
</section>
<section id="slider">
<h2>Slider<a class="headerlink" href="#slider" title="Permalink to this heading">¶</a></h2>
<p>A QSlider can be a HAL pin by adding these four string type Dynamic Properties.
The pin_name used will create a HAL pin prefixed with <cite>flexhal.</cite> A pin_name of
my-slider would be in HAL <cite>flexhal.my-slider</cite>. See <a class="reference internal" href="property.html"><span class="doc">Dynamic Properties</span></a></p>
<table class="docutils align-center" id="id3" style="width: 100%">
<caption><span class="caption-text">HAL Slider</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_S32 or HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_OUT</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hal-i-o">
<h2>HAL I/O<a class="headerlink" href="#hal-i-o" title="Permalink to this heading">¶</a></h2>
<p>A HAL I/O pin can be input and output functions.</p>
<p>A QPushButton (set to checkable), QCheckBox, QDoubleSpinBox and QSpinBox can be
HAL I/O pin.</p>
<p>Two I/O pins connected to the same signal will stay in
synchronization. The connected pins must be of the same type.</p>
<table class="docutils align-center" id="id4" style="width: 100%">
<caption><span class="caption-text">HAL I/O</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_io</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_BIT for a QCheckBox or QPushButton</p></td>
</tr>
<tr class="row-odd"><td><p>hal_type</p></td>
<td><p>HAL_FLOAT for a QDoubleSpinBox</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_S32 or HAL_U32 for a QSpinBox</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IO</p></td>
</tr>
</tbody>
</table>
</section>
<section id="label">
<h2>Label<a class="headerlink" href="#label" title="Permalink to this heading">¶</a></h2>
<p>A QLabel can be used to monitor HAL pins. HAL connections must be made in the
post gui HAL file. The pin_name used will create a HAL pin prefixed with
<cite>flexhal.</cite> A pin_name of my-reader would be in HAL <cite>flexhal.my-reader</cite>.</p>
<table class="docutils align-center" id="id5" style="width: 100%">
<caption><span class="caption-text">HAL Label</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_BIT or HAL_FLOAT or HAL_S32 or HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IN</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A HAL_FLOAT QLabel can have a string Dynamic Property called
<cite>precision</cite> with a value of the number of decimal digits.</p>
</div>
</section>
<section id="bool-label">
<h2>Bool Label<a class="headerlink" href="#bool-label" title="Permalink to this heading">¶</a></h2>
<p>A QLabel of hal_type HAL_BIT can have True and False text by adding two
additional Dynamic Properties. See <a class="reference internal" href="property.html"><span class="doc">Dynamic Properties</span></a></p>
<table class="docutils align-center" id="id6" style="width: 100%">
<caption><span class="caption-text">HAL Bool Label</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_BIT</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IN</p></td>
</tr>
<tr class="row-even"><td><p>true_text</p></td>
<td><p>text to display when True</p></td>
</tr>
<tr class="row-odd"><td><p>false_text</p></td>
<td><p>text to display when False</p></td>
</tr>
</tbody>
</table>
<img alt="_images/hal-bool-label-01.png" class="align-center" src="_images/hal-bool-label-01.png" />
</section>
<section id="multi-state-label">
<h2>Multi-State Label<a class="headerlink" href="#multi-state-label" title="Permalink to this heading">¶</a></h2>
<p>A QLabel of hal_type HAL_U32 can have multiple text by adding as many Dynamic
Properties as needed. The <cite>text_n</cite> starts at 0 for example text_0, text_1 etc.</p>
<table class="docutils align-center" id="id7" style="width: 100%">
<caption><span class="caption-text">HAL Multi-State Label</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_msl</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IN</p></td>
</tr>
<tr class="row-even"><td><p>text_n</p></td>
<td><p>text to display when value is equal to n</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The text values must start at 0 and be sequencial.</p>
</div>
<img alt="_images/hal-msl.png" class="align-center" src="_images/hal-msl.png" />
</section>
<section id="lcd">
<h2>LCD<a class="headerlink" href="#lcd" title="Permalink to this heading">¶</a></h2>
<p>A QLCDNumber can be used to monitor HAL pins. HAL connections must be made in
the post gui HAL file. The pin_name used will create a HAL pin prefixed with
<cite>flexhal.</cite> A pin_name of my-reader would be in HAL <cite>flexhal.my-reader</cite>.</p>
<table class="docutils align-center" id="id8" style="width: 100%">
<caption><span class="caption-text">HAL LCD</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_FLOAT or HAL_S32 or HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IN</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A HAL_FLOAT QLCDNumber can have a string Dynamic Property called
<cite>precision</cite> with a value of the number of decimal digits.</p>
</div>
<p>Pin Types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HAL_BIT</span>
<span class="n">HAL_FLOAT</span>
<span class="n">HAL_S32</span>
<span class="n">HAL_U32</span>
</pre></div>
</div>
<p>Pin Directions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HAL_IN</span>
<span class="n">HAL_OUT</span>
<span class="n">HAL_IO</span>
</pre></div>
</div>
<p>Currently only <cite>HAL_BIT</cite> with <cite>HAL_OUT</cite> have been tested.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default, no QRadioButtons are checked unless you set one checked
in the Designer. Starting up with none checked could be a problem if you
expect one to be selected at startup.</p>
</div>
</section>
<section id="progress-bar">
<h2>Progress Bar<a class="headerlink" href="#progress-bar" title="Permalink to this heading">¶</a></h2>
<p>A QProgressBar can be used to monitor HAL pins. HAL connections must be made in
the post gui HAL file. The pin_name used will create a HAL pin prefixed with
<cite>flexhal.</cite> A pin_name of my-bar would be in HAL <cite>flexhal.my-bar</cite>.</p>
<table class="docutils align-center" id="id9" style="width: 100%">
<caption><span class="caption-text">HAL Progressbar</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><strong>Property Name</strong></p></td>
<td><p><strong>Pin Value</strong></p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>hal_pin</p></td>
</tr>
<tr class="row-odd"><td><p>pin_name</p></td>
<td><p>any unique name</p></td>
</tr>
<tr class="row-even"><td><p>hal_type</p></td>
<td><p>HAL_S32 or HAL_U32</p></td>
</tr>
<tr class="row-odd"><td><p>hal_dir</p></td>
<td><p>HAL_IN</p></td>
</tr>
</tbody>
</table>
</section>
<section id="step-by-step">
<h2>Step by Step<a class="headerlink" href="#step-by-step" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This example is for a QPushButton</p>
</div>
<p>You can use a QPushButton as a momentary output, or with <cite>checkable</cite> selected
for a toggle type output, or QCheckBox or QRadioButton for a HAL output control.</p>
<p>Drag the widget into the GUI and the widget can have any name you like; names
are not used by HAL controls in Flex GUI - it is the following that matters.</p>
<p>Click on the widget to select it then click on the green plus sign in the
Property Editor for that widget to add a Dynamic Property and select String.
See <a class="reference internal" href="property.html"><span class="doc">Dynamic Properties</span></a></p>
<img alt="_images/hal-01.png" class="align-center" src="_images/hal-01.png" />
<p>Set the Property Name to <cite>function</cite> and click Ok</p>
<img alt="_images/hal-02.png" class="align-center" src="_images/hal-02.png" />
<p>Set the Value to <cite>hal_pin</cite>; this tells Flex GUI that this widget is going to be
for a HAL pin</p>
<img alt="_images/hal-03.png" class="align-center" src="_images/hal-03.png" />
<p>Add another string Dynamic Property named <cite>pin_name</cite> and set the value to any
unique name</p>
<img alt="_images/hal-04.png" class="align-center" src="_images/hal-04.png" />
<p>Add another Dynamic Property named <cite>hal_type</cite> and set the value to HAL_BIT</p>
<img alt="_images/hal-05.png" class="align-center" src="_images/hal-05.png" />
<p>Add another Dynamic Property named <cite>hal_dir</cite> and set the value to HAL_OUT</p>
<img alt="_images/hal-06.png" class="align-center" src="_images/hal-06.png" />
<p>If you added Show HAL to your menu, you can open up the <cite>Halshow</cite> program and
view the pin names</p>
<img alt="_images/hal-07.png" class="align-center" src="_images/hal-07.png" />
<p>The pin names will all start with <cite>flexhal</cite> plus the unique name you gave them</p>
<img alt="_images/hal-08.png" class="align-center" src="_images/hal-08.png" />
<p>Now you can connect the Flex HAL pin in the postgui.hal file like normal</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">net</span> <span class="n">some</span><span class="o">-</span><span class="n">signal</span><span class="o">-</span><span class="n">name</span> <span class="n">flexhal</span><span class="o">.</span><span class="n">hal</span><span class="o">-</span><span class="n">test</span><span class="o">-</span><span class="mi">01</span> <span class="o">=&gt;</span> <span class="n">some</span><span class="o">-</span><span class="n">other</span><span class="o">-</span><span class="n">pin</span><span class="o">-</span><span class="ow">in</span>
</pre></div>
</div>
<p>After installing Flex GUI, from the CNC menu, you can copy the Flex GUI examples
and look at the hal-btn example.</p>
</section>
<section id="homed-required">
<h2>Homed Required<a class="headerlink" href="#homed-required" title="Permalink to this heading">¶</a></h2>
<p>If the HAL button requires all joints to be homed before being enabled, you can
specify that by adding a Dynamic Property named <cite>required</cite> and set the value to
<cite>homed</cite>.</p>
<img alt="_images/hal-09.png" class="align-center" src="_images/hal-09.png" />
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">HAL Pins</a><ul>
<li><a class="reference internal" href="#button">Button</a></li>
<li><a class="reference internal" href="#spinbox">Spinbox</a></li>
<li><a class="reference internal" href="#slider">Slider</a></li>
<li><a class="reference internal" href="#hal-i-o">HAL I/O</a></li>
<li><a class="reference internal" href="#label">Label</a></li>
<li><a class="reference internal" href="#bool-label">Bool Label</a></li>
<li><a class="reference internal" href="#multi-state-label">Multi-State Label</a></li>
<li><a class="reference internal" href="#lcd">LCD</a></li>
<li><a class="reference internal" href="#progress-bar">Progress Bar</a></li>
<li><a class="reference internal" href="#step-by-step">Step by Step</a></li>
<li><a class="reference internal" href="#homed-required">Homed Required</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="misc.html"
                          title="previous chapter">Miscellaneous Items</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="touch.html"
                          title="next chapter">Touch Screens</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/hal.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="touch.html" title="Touch Screens"
             >next</a> |</li>
        <li class="right" >
          <a href="misc.html" title="Miscellaneous Items"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flex GUI  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">HAL Pins</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2024, John Thornton.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>