
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Python Module &#8212; Flex GUI  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Probing" href="probe.html" />
    <link rel="prev" title="Parameters" href="parameters.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="probe.html" title="Probing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="parameters.html" title="Parameters"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flex GUI  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Python Module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="python-module">
<h1>Python Module<a class="headerlink" href="#python-module" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://youtu.be/QC4K_8VMc6Y">Python Import Tutorial</a></p>
<p>To import a python module add the following to the INI [FLEXGUI] section using the
name of the python file without the.py extension. The file name must be unique
and can not be any python module name. You can have as many imports as you need
to simplify your code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">FLEXGUI</span><span class="p">]</span>
<span class="n">IMPORT_PYTHON</span> <span class="o">=</span> <span class="n">testpy</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The module requires the .py extension to be able to import so the
above module would be named testpy.py.</p>
</div>
<p>In each python file you import you must have a <cite>startup</cite> function where you make
any connections from objects in the ui file to code in your module. The parent
is passed to the startup function to give you access to all the objects in the
GUI.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="k">def</span> <span class="nf">startup</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="c1"># connect a pushbutton without passing parent</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">my_test_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">test_1</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">get_names_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">get_names</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>

        <span class="c1"># connect a pushbutton and pass parent to the function</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">another_test_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">test_2</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">test_1</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;test 1&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_2</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="c1"># in this function you have access to all the objects in parent</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;test 2 </span><span class="si">{</span><span class="n">parent</span><span class="o">.</span><span class="n">another_test_pb</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_names</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="c1"># get all the object names from the parent</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">parent</span><span class="p">))</span>
</pre></div>
</div>
<section id="timer">
<h2>Timer<a class="headerlink" href="#timer" title="Permalink to this heading">¶</a></h2>
<p>A user timer is provided for use in the user python module.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="k">def</span> <span class="nf">startup</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">user_timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">testit</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">conn_pb</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># prevent another connection</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">disc_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">disc</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">conn_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">start_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">stop_pb</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">stop</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">testit</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;testing&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">disc</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">user_timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">disconnect</span><span class="p">(</span><span class="n">testit</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">conn_pb</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># allow a connection</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">disc_pb</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># prevent trying to disconnect</span>

<span class="k">def</span> <span class="nf">conn</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">user_timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">testit</span><span class="p">)</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">conn_pb</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># prevent trying to connect</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">disc_pb</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># allow a disconnect</span>

<span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">user_timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="c1"># milliseconds</span>

<span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="n">parent</span><span class="p">):</span>
        <span class="n">parent</span><span class="o">.</span><span class="n">user_timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Python Module</a><ul>
<li><a class="reference internal" href="#timer">Timer</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="parameters.html"
                          title="previous chapter">Parameters</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="probe.html"
                          title="next chapter">Probing</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/python.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="probe.html" title="Probing"
             >next</a> |</li>
        <li class="right" >
          <a href="parameters.html" title="Parameters"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flex GUI  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Python Module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2024, John Thornton.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>